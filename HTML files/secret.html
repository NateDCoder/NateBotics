<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JSON Data Viewer</title>
    <script>
        async function fetchData() {
            const response = await fetch('https://international-ashly-waffles-bedc2f70.koyeb.app/api/update');
            const data = await response.json();
            document.getElementById('data1').textContent = JSON.stringify(data.data1, null, 2);
            document.getElementById('data2').textContent = JSON.stringify(data.data2, null, 2);
        }

        async function addData() {
            // const newData = document.getElementById('newData').value;
            let username = prompt("Enter User Name");
            let authKey = prompt("Enter Auth Key")

            const newData = { "username": username, "authorizationKey": `${authKey[0]}493${authKey[1]}5${authKey[1]}F-7FC${authKey[2]}-43F8-9EB${authKey[2]}-${authKey[1]}E7E3042AC87` }
            let message = await fetch('https://international-ashly-waffles-bedc2f70.koyeb.app/api/update', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify(newData)
            });
            console.log(message)
            fetchData();
        }

        document.addEventListener('DOMContentLoaded', fetchData);

    </script>
</head>

<body>
    <h1>JSON Data Viewer</h1>
    <h2>Data1:</h2>
    <pre id="data1">Loading...</pre>
    <h2>Data2:</h2>
    <pre id="data2">Loading...</pre>

    <h2>Add to Data1:</h2>
    <input type="text" id="newData" placeholder="Enter new data">
    <button onclick="addData()">Add</button>
</body>

</html>